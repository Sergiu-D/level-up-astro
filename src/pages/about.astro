---
import Layout from '../layouts/Layout.astro';
import aboutData from '../data/about.json';
import { loadDataWithVariables } from '../utils/variables.js';
import Header from '../components/Header.astro';
import Story from '../components/Story.astro';
import Approach from '../components/Approach.astro';
import Team from '../components/Team.astro';
import CTA from '../components/CTA.astro';

const processedData = loadDataWithVariables(aboutData) as any;
---

<Layout title="About Us">
  <Header data={processedData.header} />
  
  <section class="container mx-auto px-4">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12 animate-slide-up">
      <Story data={processedData.story} />
      <Approach data={processedData.approach} />
    </div>
  </section>
  
  <Team data={processedData.team} />
  
  <CTA data={{
    title: processedData.accreditations.title,
    description: processedData.accreditations.description,
    button: {
      text: processedData.accreditations.cta.text,
      url: processedData.accreditations.cta.url
    }
  }} />
</Layout>